<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>React Tutorial</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
</head>
<body>
	<div id="content"></div>
	<script type="text/babel">
		//单选试题
		var item = {
			"id": 2015,						
			"type": "BlankedCloze",			
			"level": 2,						
			"duration": 12,					
			"flowable": true,				
			"recommendation-point": 2,		
			"direction": "试题item的direction",
			"stem": "试题题干",
			"src": { 		//题干中包含的视频、音频以及图片的地址
				"image": "图片地址",
				"audio": "音频地址",
				"video": "视频体质"
			},
			"item-options": [ 		//item选项数组，数组中的内容为item各选项
				"item选项1",			
				"item选项2"
			],
			"shuffle": "当itemoption存在时，指定是否可以乱序",
			"questions": [			//试题item所包含的所有问题数组，数组中的每个元素为一个question，每个question为一个对象
				{
					"type": "question的类型",	// SingleAnswer(简答)、BlankFilling(填空）、SingleChoice(单选）、MultipleChoice(多选)、Record(录音）
					"pause": "当有需要时，如听力播放完成后的暂停时间",  //此处单位为秒
					"shuffle": true, //只有当type为多选或者单选时，该选项才有效			
					"stem": "question题干",	
					"src": { 		//题干中包含的视频、音频以及图片的地址
						"image": "图片地址",
						"audio": "音频地址",
						"video": "视频体质"
					},		
					"options": [		//question的各个选项
						"option1",
						"option2",
						"option3",
						"option4"
					],
					"strict": true,	//正确答案是否要与参考答案完全匹配
					"reference-answer": "question的参考答案",		
					"answer-analysis": "参考答案解析"
				}
			]
		}
		//试题item的direnction
		var ItemDirection = React.createClass({
			render: function() {
				return (
					<div className="item-direction">{this.props.direction}</div>
				);
			}
		});

		//试题item题干
		var ItemStem = React.createClass({
			render: function() {
				var stem = this.props.stem;
				var stemSrc = this.props.stemSrc;
				var stemSrcArr = [];
				for(var src in stemSrc) {
					stemSrcArr.push((function(){
						return (
							<p>{src}_{stemSrc[src]}</p>
						);
					})());
				}
				return (
					<div className="item-stem">
						<p>{stem}</p>
						{stemSrcArr}
					</div>
				);
			}
		}); 

		//试题item内的questions
		var ItemQuestions = React.createClass({
			render: function() {
				return (
					<div className="item-questions">
						问题区域
					</div>
				);
			}
		});

		//试题item框
		var ItemBox  = React.createClass({
			render: function() {
				console.log(this.props.data.direction);
				return (
					<div className="item-box">
						<ItemDirection direction={this.props.data.direction} />
						<ItemStem stem={this.props.data.stem} stemSrc={this.props.data.src} />
						<ItemQuestions /> 
					</div>
				);
			}
		});
		ReactDOM.render(
			<ItemBox data={item} />,
			document.getElementById('content')
		);
	</script>
</body>
</html>
 